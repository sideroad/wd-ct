#!/usr/bin/env node

// Run WdCT.
var opts = require('opts'),
    options = {};

opts.parse([
  {
    'short': 't',
    'long': 'testcase',
    'description': 'Target testcase file',
    'value': true,
    'required': true
  },
  {
    'short': 'i',
    'long': 'interaction',
    'description': 'Target interaction file',
    'value': true,
    'required': true
  },
  {
    'short': 'nl',
    'long': 'no-logging',
    'description': 'Not output logging',
  },
  {
    'short': 'b',
    'long': 'browsers',
    'description': 'Browser',
    'value': true
  },
  {
    'short': 'nc',
    'long': 'no-color',
    'description': 'Not apply color to console',
  }
]);


options.testcase = opts.get('testcase');
options.interaction = opts.get('interaction');

var noLogging = opts.get('no-logging');
if(noLogging) {
  options.debug = false;
}

var noColor = opts.get('no-color');
if(noColor) {
  options.color = false;
}

var browsers = opts.get('browsers');
if(browsers){
  options.browsers =  browsers.split(',');
}

var WdCT = require('../lib/wd-ct');
new WdCT( options );
